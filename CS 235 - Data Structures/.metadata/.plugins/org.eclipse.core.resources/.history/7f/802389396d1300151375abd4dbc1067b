/*
 * QS.h
 *
 *  Created on: Jun 15, 2015
 *      Author: mocklera
 */

#ifndef STUDENT_CODE_QS_H_
#define STUDENT_CODE_QS_H_

#include "QSInterface.h"

/*
 * TODO: help session
 *
 * int* arr = new int[capacity];
 * 		to delete it, you have to do delete[] arr
 * 		keep track of size and capacity
 * 			Dont add if size == capacity
 * 		Delete the old array before you make the new one
 *
 * 	QUICKSORT
 * 		[10  9  7  6  2  12  14  3]
 *
 * 		MEDIAN OF THREE
 * 			You get Left and Right
 * 			[10  9  7  6  2  12  14  3]
 * 			L(0)                    R(7)
 * 		   L+R / 2 to find the median (3)
 * 		   			the median is your pivot index
 * 		   			You have to sort your three points. so L M R will be 3 6 10 in this case
 * 		   			Return the pivot INDEX
 *
 *		PARTITION
 * 		   Swap pivot and left
 * 		   Make two temporary vars (up and down)
 * 		   	compare the value of up with the pivot index value
 * 		   		while (up < down)
 * 		   			while (arr[up] <= arr[left])
 * 		   				up++
 * 		   			while(arr[down] > arr[left])
 * 		   				down--
 * 		   			swap up and down (unless they have crossed, then you handle outside the loop)
 * 		   		swap L and down (outside the loop)
 * 		   		return down
 * 		   Add extra conditions so you don't go past L and R. (down > L, up < R)
 *
 *		SORTALL
 *			Make a void sortall_recursive(int L, int R)
 *				if (l == r)
 *					return
 *				if (l + 1 == r)
 *					media of three(l, r)
 *					return
 *				if (l + 2 == r)
 *					median of three(l, r)
 *					return
 *				else
 *					int mid = median of three(l, r)
 *					mid = partition(l, r, mid)
 *					sortall_recursive(l, mid - 1)
 *					sortall_recursive(mid + 1, r)
 *
 *		SWAP
 *			you shouldn't use stdlib swap - write a swap function
 *				int old = arr[l];
 *				arr[l] = arr[r];
 *				arr[r] = old;
 *
 *		SORTALL
 *			Start with L = 0 and R = size-1 (NOT capacity)
 *			Then call recursive func
 *
 */

class QS: public QSInterface {
public:
	QS();
	virtual ~QS() { clear(); };

	virtual void sortAll();
	virtual int medianOfThree(int left, int right);
	virtual int partition(int left, int right, int pivotIndex);
	virtual string getArray();
	virtual int getSize();
	virtual void addToArray(int value);
	virtual bool createArray(int capacity);
	virtual void clear();

private:
	void sortAll_recursive(int l, int r);
	void swap(int l, int r);
	int* arr;
};

#endif /* STUDENT_CODE_QS_H_ */
